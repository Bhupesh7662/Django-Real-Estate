{% extends 'admin_base.html' %}

{% block content %}
<section class="content">
  <div class="container">
    <div class="row ">
      <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
        <div class="card">
          <div class="body">
            <div class="row">
              <div class="col-xs-12 col-md-12">
                <a href="{% url 'add_property' %}" class="btn btn-info btn-lg waves-effect">+ADD PROPERTY</a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- Basic Examples -->
    <div class="row clearfix">
      <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
        <div class="card">
          <div class="header">
            <h2>
              Manage Property
            </h2>
          </div>
          <div class="body">
            <div class="table-responsive">
              <table class="table table-bordered table-striped table-hover js-basic-example dataTable">
                <thead>
                  <tr>
                    <th>Realtor Name</th>
                    <th>Property Title</th>
                    <th>Realtor Address</th>
                    <th>Property City</th>
                    <th>Property State</th>
                    <th>Property Zipcode</th>
                    <th>Property Description</th>
                    <th>Property Price</th>
                    <th>Property Rooms</th>
                    <th>Property Bathrooms</th>
                    <th>Property plot Sizesqft</th>
                    <th>Property Image Main</th>
                    <th>Property Image Sub</th>
                    <th>Property Status</th>
                    <td>Property created Date</td>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  {% for property in property_details %}
                  <tr>
                    <td>{{ property.realtor.realtor_name }}</td>
                    <td>{{ property.title }}</td>
                    <td>{{ property.address }}</td>
                    <td>{{ property.city }}</td>
                    <td>{{ property.state }}</td>
                    <td>{{ property.zipcode }}</td>
                    <td>{{ property.description|safe }}</td>
                    <td> &#8377; {{ property.price }} </td>
                    <td>{{ property.rooms }}</td>
                    <td>{{ property.bathrooms }}</td>
                    <td>{{ property.sqft }} Sqft</td>
                    <td>{{ property.plot_size }}</td>
                    <td>
                      <img src="{{ property.property_image_main.url }}" width="100%" alt="Property Main image"
                        class="img-fluid">
                    </td>
                    <td>
                      {% if property.property_image1 %}
                      <img src="{{ property.property_image1.url }}" width="100%" alt="Property Sub Image"
                        class="img-fluid">
                        {% endif %}
                    </td>
                    <td>
                      {% if property.property_image2 %}
                      <img src="{{ property.property_image2.url }}" width="100%" alt="Property Sub Image"
                        class="img-fluid">
                    </td>
                    {% endif %}
                    <td>
                      {% if property.property_image3 %}
                      <img src="{{ property.property_image3.url }}" width="100%" alt="Property Sub Image"
                        class="img-fluid">
                        {% endif %}
                    </td>
                    <td>
                      {% if property.property_image4 %}
                      <img src="{{ property.property_image4.url }}" width="100%" alt="Property Sub Image"
                        class="img-fluid">
                        {% endif %}
                    </td>
                    <td>{% if property.is_active == "0" %} Active {% else %} Inactive {% endif %}</td>
                    <td>{{ property.created_date }}</td>
                    <td><a href="/edit_property/{{ property.id }}" class="btn btn-primary">Edit</a> | <a
                        href="/delete_property/{{ property.id }}" class="btn btn-danger">delete</a>
                    </td>
                  </tr>
                  {% endfor %}
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
{% endblock %}